<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>–í–∞—à –∫—É–ø–æ–Ω –≥–æ—Ç–æ–≤!</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéâ</text></svg>">
</head>
<body class="min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4">
    <main class="max-w-md w-full">
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —É—Å–ø–µ—Ö–∞ -->
        <div class="bg-white rounded-2xl shadow-xl p-8 text-center">
            <!-- –ò–∫–æ–Ω–∫–∞ —É—Å–ø–µ—Ö–∞ -->
            <div class="text-6xl mb-4">üéâ</div>
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <h1 class="text-2xl font-bold text-gray-900 mb-4">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h1>
            <p class="text-gray-600 mb-6">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ –≥–æ—Ç–æ–≤</p>
            
            <!-- –ö–æ–¥ –∫—É–ø–æ–Ω–∞ -->
            <div class="bg-gradient-to-r from-purple-100 to-blue-100 rounded-xl p-6 mb-6">
                <p class="text-sm text-gray-600 mb-2">–í–∞—à –ø—Ä–æ–º–æ–∫–æ–¥:</p>
                <div class="text-3xl font-mono font-bold text-purple-800 tracking-widest select-all">
                    {{ coupon.code }}
                </div>
                <p class="text-xs text-gray-500 mt-2">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–¥ —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</p>
            </div>
            
            <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->
            <div class="bg-yellow-50 rounded-lg p-4 mb-6">
                <h3 class="font-semibold text-yellow-800 mb-2">–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                <ol class="text-sm text-yellow-700 text-left space-y-1">
                    <li>1. –ü–æ–∫–∞–∂–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –∫–∞—Å—Å–∏—Ä—É</li>
                    <li>2. –ò–ª–∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –∫–æ–¥ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ</li>
                    <li>3. –ü–æ–ª—É—á–∏—Ç–µ —Å–≤–æ—é —Å–∫–∏–¥–∫—É!</li>
                </ol>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ä–æ–∫–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            {% if coupon.expires_at %}
            <div class="bg-orange-50 rounded-lg p-3 mb-6">
                <p class="text-sm text-orange-800">
                    ‚è∞ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ {{ coupon.expires_at|date:'d.m.Y –≤ H:i' }}
                </p>
            </div>
            {% endif %}
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∏–∑–Ω–µ—Å–µ -->
            <div class="border-t pt-4 mb-6">
                <h3 class="font-semibold text-gray-800 mb-2">{{ camp.business.name }}</h3>
                {% if camp.business.phone %}
                    <p class="text-sm text-gray-600">üìû {{ camp.business.phone }}</p>
                {% endif %}
                {% if camp.business.address %}
                    <p class="text-sm text-gray-600">üìç {{ camp.business.address }}</p>
                {% endif %}
            </div>
            
            <!-- –î–µ–π—Å—Ç–≤–∏—è -->
            <div class="space-y-3">
                <a href="{% url 'coupons:check' coupon.code %}" 
                   class="block w-full py-3 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors">
                    üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫—É–ø–æ–Ω–∞
                </a>
                
                <a href="{% url 'campaigns:landing_public' camp.slug %}" 
                   class="block w-full py-2 px-4 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors">
                    ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—é
                </a>
            </div>
        </div>
        
        <!-- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ -->
        <div class="mt-6 text-center">
            <p class="text-xs text-gray-500 mb-2">üí° –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥:</p>
            <div class="flex justify-center space-x-4 text-xs">
                <button onclick="copyToClipboard('{{ coupon.code }}')" class="text-blue-600 hover:text-blue-800 underline">
                    üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                </button>
                <button onclick="shareCode()" class="text-green-600 hover:text-green-800 underline">
                    üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                </button>
            </div>
        </div>
    </main>

    <script>
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }, function(err) {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
            });
        }
        
        // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–¥–æ–º
        function shareCode() {
            if (navigator.share) {
                navigator.share({
                    title: '–ú–æ–π –ø—Ä–æ–º–æ–∫–æ–¥',
                    text: '–ü—Ä–æ–º–æ–∫–æ–¥: {{ coupon.code }} –¥–ª—è {{ camp.business.name }}',
                    url: window.location.href
                });
            } else {
                copyToClipboard('{{ coupon.code }}');
            }
        }
        
        // –ê–≤—Ç–æ–≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
        document.querySelector('.select-all').addEventListener('click', function() {
            if (window.getSelection) {
                const selection = window.getSelection();
                const range = document.createRange();
                range.selectNodeContents(this);
                selection.removeAllRanges();
                selection.addRange(range);
            }
        });
    </script>
</body>
</html>
